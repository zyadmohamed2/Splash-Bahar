<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cesium - Zoom to User from Top</title>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.131/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.131/Build/Cesium/Widgets/widgets.css" rel="stylesheet" />
      <style>
      html, body, #cesiumContainer {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: sans-serif;
      }
      

    </style>
</head>
  <body>
    <div id="cesiumContainer"></div>
  <script>
    window.onload = async function () {
      try {
                 // ğŸ” Cesium Ion Access Token
         Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlYTY2ZGMwNi1jZDFhLTQ4MWQtOGE2NC03ODRiOTY0ZmNkYzIiLCJpZCI6MzI1NjQ1LCJpYXQiOjE3NTM1ODM4MjZ9.RZsXchYIb8V1uGesHfXOeJNc-zGY0IAVyQcCAk6JS54';

                 // ğŸ‘ï¸â€ğŸ—¨ï¸ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¹Ø§Ø±Ø¶ Ù…Ø¹ ØµÙˆØ± Ù‚Ù…Ø± ØµÙ†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØªÙŠØ±ÙŠÙ†
         const viewer = new Cesium.Viewer('cesiumContainer', {
           baseLayerPicker: false,
           animation: false,
           timeline: false,
           sceneModePicker: false,
           homeButton: false,
           navigationHelpButton: false,
           fullscreenButton: false,
           infoBox: false,
           selectionIndicator: false,
           geocoder: false
         });
         
         // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø§Ø¦ÙŠØ©
         viewer.cesiumWidget.creditContainer.style.display = 'none';

                 // ğŸŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium Ion ÙÙ‚Ø·
         try {
           // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø·Ø¨Ù‚Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
           viewer.imageryLayers.removeAll();
           
           // Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium World Imagery Ù…Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµØ­ÙŠØ­Ø©
           const imageryProvider = await Cesium.IonImageryProvider.fromAssetId(2);
           viewer.imageryLayers.addImageryProvider(imageryProvider);
           
         } catch (e) {
           console.log('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Cesium World ImageryØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium Natural Earth');
           try {
             // Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium Natural Earth ÙƒØ¨Ø¯ÙŠÙ„
             const imageryProvider2 = await Cesium.IonImageryProvider.fromAssetId(3);
             viewer.imageryLayers.addImageryProvider(imageryProvider2);
           } catch (e2) {
             console.log('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Cesium Natural EarthØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium OSM');
             try {
               // Ø§Ø³ØªØ®Ø¯Ø§Ù… Cesium OSM ÙƒØ¨Ø¯ÙŠÙ„ Ù†Ù‡Ø§Ø¦ÙŠ
               const imageryProvider3 = await Cesium.IonImageryProvider.fromAssetId(3845);
               viewer.imageryLayers.addImageryProvider(imageryProvider3);
             } catch (e3) {
               console.log('ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø®ÙŠØ§Ø±Ø§Øª Cesium IonØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø±ÙŠØ·Ø© Ø¨Ø³ÙŠØ·Ø©');
               // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø±ÙŠØ·Ø© Ø¨Ø³ÙŠØ·Ø© ÙƒØ¨Ø¯ÙŠÙ„ Ù†Ù‡Ø§Ø¦ÙŠ
               viewer.scene.globe.material = Cesium.Material.fromType('Color', {
                 color: new Cesium.Color(0.2, 0.4, 0.8, 1.0)
               });
             }
           }
         }
         
         // ğŸŒ Ø¥Ø¶Ø§Ø¡Ø© ÙˆØ³Ù…Ø§Ø¡ ÙˆØ§Ù‚Ø¹ÙŠØ©
         viewer.scene.globe.enableLighting = true;
         viewer.scene.skyAtmosphere.show = true;
         viewer.scene.skyBox.show = true;
         
         // ØªØ­Ø³ÙŠÙ† Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØ±
         viewer.scene.globe.maximumScreenSpaceError = 1.0; // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø©
         viewer.scene.globe.tileCacheSize = 1000; // Ø²ÙŠØ§Ø¯Ø© Ø­Ø¬Ù… Ø§Ù„ÙƒØ§Ø´
         
         // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØµÙˆØ±
         viewer.scene.globe.enableLighting = true; // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø©
         viewer.scene.fog.enabled = false; // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¶Ø¨Ø§Ø¨
         
         // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Cesium Ion
         viewer.scene.globe.maximumScreenSpaceError = 1.0;
         viewer.scene.globe.tileCacheSize = 1000;
         
         // ØªØ¹ÙŠÙŠÙ† Ù…ÙˆÙ‚Ø¹ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ù„Ø£ÙˆÙ„ÙŠ
         viewer.camera.setView({
           destination: Cesium.Cartesian3.fromDegrees(0, 0, 20000000),
           orientation: {
             heading: 0.0,
             pitch: -Cesium.Math.PI_OVER_TWO,
             roll: 0.0
           }
         });
         
         // Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„ Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±
         setTimeout(() => {
           viewer.scene.requestRender();
         }, 1000);

                 // ğŸ“¡ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
         if (navigator.geolocation) {
           navigator.geolocation.getCurrentPosition(
             function (position) {
               const lat = position.coords.latitude;
               const lon = position.coords.longitude;

               // Ø§Ù†ØªØ¸Ø§Ø± 2 Ø«Ø§Ù†ÙŠØ© Ø­ØªÙ‰ ØªØ­Ù…Ù„ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø«Ù… Zoom
               setTimeout(() => {
                                  // ğŸ“ Zoom Ù…Ù† Ø£Ø¹Ù„Ù‰ Ù…Ø¨Ø§Ø´Ø±Ø©
                 viewer.camera.flyTo({
                   destination: Cesium.Cartesian3.fromDegrees(lon, lat, 3000),
                   duration: 8, // Ù†ØµÙ Ø§Ù„Ø³Ø±Ø¹Ø© (Ù…Ù† 4 Ø¥Ù„Ù‰ 8 Ø«ÙˆØ§Ù†ÙŠ)
                   orientation: {
                     heading: 0,
                     pitch: Cesium.Math.toRadians(-90), // ÙŠØ¨Øµ Ù„ØªØ­Øª Ù…Ø¨Ø§Ø´Ø±Ø©
                     roll: 0
                   }
                 });

                 // ğŸ”´ Ù†Ù‚Ø·Ø© + Ù„Ø§Ø¨Ù„
                 viewer.entities.add({
                   position: Cesium.Cartesian3.fromDegrees(lon, lat),
                   point: {
                     pixelSize: 10,
                     color: Cesium.Color.RED
                   },
                   label: {
                     text: '',
                     font: '18px sans-serif',
                     fillColor: Cesium.Color.YELLOW,
                     style: Cesium.LabelStyle.FILL_AND_OUTLINE,
                     outlineWidth: 2,
                     verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
                     pixelOffset: new Cesium.Cartesian2(0, -15)
                   }
                 });
               }, 2000); // Ø§Ù†ØªØ¸Ø§Ø± 2 Ø«Ø§Ù†ÙŠØ©
             },
            function (error) {
              console.error("ÙØ´Ù„ ÙÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹:", error);
              alert("ØªØ¹Ø°Ø± ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ.");
            }
          );
        } else {
          alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ.");
        }

      } catch (error) {
        console.error("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Cesium:", error);
      }
    };
  </script>
</body>
</html>
